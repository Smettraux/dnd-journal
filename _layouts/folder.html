---
title: {{ page.folder }}
---

<!DOCTYPE html>
<html>
<head>
    <title>{{ page.title }}</title>
    {% include header.html %}
    {% seo %}
</head>
<body>

{% include nav.html %}

<div class="container">
    {% assign target_folder = page.folder %}
    <h1>{{ target_folder }}</h1>

    <ul>
        {% assign folder_posts = "" | split: "" %}

        <!-- Filter posts inside the target folder -->
        {% for post in site.posts %}
            {% assign post_path_parts = post.path | split: "/" %}
            {% assign post_folder = post_path_parts[1] %}  <!-- Adjust index based on your structure -->

            {% if post_folder == target_folder %}
                {% assign folder_posts = folder_posts | push: post %}
            {% endif %}
        {% endfor %}

        <!-- Group by subfolder -->
        {% assign grouped_posts = "" | split: "" %}

        {% for post in folder_posts %}
            {% assign post_parts = post.path | split: "/" %}
            {% assign subfolder = post_parts[2] | default: "Uncategorized" %}

            {% capture group_key %}{{ subfolder }}{% endcapture %}
            {% assign existing_group = false %}

            {% for group in grouped_posts %}
                {% if group[0] == group_key %}
                    {% assign existing_group = true %}
                    {% break %}
                {% endif %}
            {% endfor %}

            {% if existing_group %}
                {% assign grouped_posts[group_key] = grouped_posts[group_key] | push: post %}
            {% else %}
                {% assign grouped_posts = grouped_posts | push: group_key %}
                {% assign grouped_posts[group_key] = "" | split: "" | push: post %}
            {% endif %}
        {% endfor %}

        <!-- Display grouped posts -->
        {% for group in grouped_posts %}
            <li>
                <h2>{{ group }}</h2>
                <ul>
                    {% for post in grouped_posts[group] %}
                        <li><a href="{{ post.url }}">{{ post.title }}</a></li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>

</div>

{% include foot.html %}

</body>
</html>

<div class="articles">

  <!-- Grouper les articles par leur premier dossier -->
  {% assign grouped_posts = site.posts | group_by_exp: "post", "post.path | split: '/' | slice: 1, 1 | first" %}

  <!-- Trier les dossiers par ordre inverse (derniers dossiers en premier) -->
  {% assign sorted_folders = grouped_posts | sort: "name" | reverse %}

  {% for folder_group in sorted_folders %}
    {% assign folder = folder_group.name %}
    <h2>{{ folder }}</h2>
    <ul>
      <!-- Trier les articles par date (les plus rÃ©cents en premier) -->
      {% assign sorted_posts = folder_group.items | sort: "date" | reverse %}
      {% for post in sorted_posts %}
        <li><a href="{{ post.url }}">{{ post.title }}</a></li>
      {% endfor %}
    </ul>
  {% endfor %}

</div>
